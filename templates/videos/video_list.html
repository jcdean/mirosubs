{% extends "base.html" %}

{% load escapejs %}

{% block css %}
<link href="{{ MEDIA_URL }}css/mirosubs-mainsite.css" media="all" type="text/css" rel="stylesheet" />	
<link href="{{ MEDIA_URL }}css/sort.css" media="all" type="text/css" rel="stylesheet" />
{% endblock %}

{% block scripts %}
{% if not js_use_compiled %}
<script type="text/javascript" src="{{ MEDIA_URL }}js/jquery.tablesorter.min.js"></script> 
{% endif %}
<script type="text/javascript">
$(document).ready(function() 
    { 
        $("#video_table").tablesorter(); 
    } 
);
</script> 
{% endblock %}

{% block main_content %}
{% if video_list %}
  <table id="video_table" class="tablesorter">
    <thead>
       <tr>
         <th>URL</th>
         <th>Views</th>
         <th>Subtitles Fetched</th>
         <th>Translations</th>
         {% comment %}<th>Transcriptions</th>{% endcomment %}
       </tr>
     </thead>
     <tbody>
     {% for video in video_list %}
       <tr>
          <td><a href="{% url videos:video video_id=video.video_id %}">{{ video.video_url|slice:":25" }}</a></td>
          <td>{{ video.view_count }}</td>
          <td>{{ video.captions.videocaption_set.count }}</td>
          <td>{{ translations }}</td>
          {% comment %}<td>{{ video.videocaptionversion_set.count }}</td>{% endcomment %}
       </tr>
     {% endfor %}
      </tbody>
  </table>
  {% if is_paginated %}{% load paginator %}{% paginator 3 %}{% endif %} 
{% else %}
  <p> There are no videos.</p>
{% endif %}
{% endblock %}
